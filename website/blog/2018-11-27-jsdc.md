---
title: 2018 JSDC 筆記
---

![main](https://cdn-images-1.medium.com/max/2400/1*yRKwjf8lH9S1_gavi5rxLw.png)

今年的主題是「整合」，但其實議程絕大多數集中在以太坊，特別是針對 Web3.js ，再來就是一些初階推廣向的主題，像是 Reactive Programming 、無痛轉移到 Vue.js 等，整體來說覺得有點可惜，議題不夠廣也不夠深入(對於以太坊的共鳴實在不高...)，我們對於 JavaScript 的想像可能還太過狹隘片面了。

<!-- truncate -->

## 聽的議程

- Deno, A New Server-Side Runtime by Ryan Dahl
- How Reactive Programming makes developer lives easier. by Tracy Lee
- 初嘗去中化應用 - Web3.js入門 by David Ng
- AMP and Multithreaded JS by William Chou
- Convertine to vue.js the right way by Ruben Tan
- Dapp 跨平台相容性解決方案 by Mars Peng
- Web3.js - Getting started with the development of an Dapp by Samuel Furter

## 得到了甚麼

來說說看這次 JSDC 得到了哪些 concept

### Deno

Node.js 作者帶來的全新 server-side framework，以 Mozilla 開源的程式語言 Rust 寫成，針對 Node.js 的設計缺失打掉重練。目前還在開發階段，未來希望能取代 Node.js 與 npm。

- 一樣建構在 V8 引擎上，原生支援 TypeScript
- 重新建構「module」的觀念： 捨棄中央集權的 npm、繁雜的 package.json、肥大有如黑洞的 node_modules，改用 URI 引入模組
- [講者簡報](https://tinyclouds.org/deno_jsdc.pptx)

### Reactive Programming

響應式程式設計 (翻中文好奇怪)，簡單說就是著重在資料流 Stream 、基於訂閱模型的程式設計方式，很適合處理複雜非同步邏輯，更可以結合 Functional Programming 概念，凸顯資料流的處理意圖 (像是專注於商務邏輯 operator 組合) 而隱藏實作細節。它是一種設計模式，有著 DSL (Domain Specific Language) 特性，僅定義最少的抽象介面，其餘完全依賴各語言自己實作。

- 參考 Spec 有 [Reactive Streams](http://www.reactive-streams.org/)
- ECMAScript 將 [Observable](https://github.com/tc39/proposal-observable) 納入了 Stage 1 ，簡言之 JavaScript 未來可能會原生支援 Reactive Programming
- 現階段以 framework 為主 (Angular + NgRX、React + redux-observable + MobX、Vue +Vue-Rx、RxJS)
- 轉換成 Reactive 思維：Event-Driven

### Web3.js & Dapp

區塊鏈應用有幾個核心要素：區塊鏈本身、與鏈溝通的 API、電子錢包、自己寫的應用。Web3.js 就是包裝了以太坊 [JSON-RPC API](https://www.wikiwand.com/zh-tw/JSON-RPC) ，方便與 Ethereum 區塊鏈溝通的 Library。Dapp 則是其中一種電子錢包的 WebApp。

這個主題分成幾個面向探討：「初嘗去中心化應用」著重在產品開發經驗、「Dapp 跨平台相容性解決方案」比較了各種電子錢包並提出最佳實作、「Getting started with the development of an Dapp」則是從 Web3.js 開發者的角度，探討相關 API 的設計概念。

- [LikeCoin](https://like.co/) 主打以創作挖礦、合理分配創作利益給各階段協作者，產品概念相當有意思
- LikeCoin 主要使用 Nuxt.js + Web3.js + Firebase (App + firestore) 開發
- 使用 [oembed](https://oembed.com/) 處理嵌入內容到第三方網站
- 使用 [Web Authentication API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Authentication_API) 處理認證與授權
- 電子錢包的運作機制
- 每個錢包都有自己的 Provider (處理交易的介面)
- Provider 三種模式：postMessage (常規)、custom API (少見)、export Private Key (最危險，但自由度最高、寫出來的應用使用者體驗最好)

### AMP and Multithreaded JS

這是我覺得最有趣的議程，講者為 Google AMP 核心開發者，上次在 Google AMP 研討會有見過。前半段是盡盡義務推廣 AMP，後半段講多線程 Web Workers 與 WorkerDOM 才是重點。

- 使用 AMP 好處：簡化開發、只需要一個 framework
- [JavaScript Chunking](https://developer.mozilla.org/zh-TW/docs/Web/API/Window.requestAnimationFrame)
- 瀏覽器一般只有一個 main thread，JS 只能在這個 thread 上執行。若想獲得更好的效能，就必須考慮平行處理 (Concurrency)。
- [Web Workers](https://developer.mozilla.org/zh-TW/docs/Web/API/Web_Workers_API/Using_web_workers)：創建背景執行序跑 JS，有以下特性：無法接觸到 DOM、workers 彼此不能共享狀態、透過 postMessage() 彼此溝通
- Virtual DOM in Web Workers = [WorkerDOM](https://github.com/ampproject/worker-dom)：計算新狀態、處理 Event handling

### Vue.js

這算是推廣類議程，重點只有一句話：採用 Vue.js 可以很輕鬆地階段性翻新陳年的 jQuery Code，不必像採用 React 或 Angular 那樣全部打掉重來，學習曲線相對簡易，適合想快速投入但不想花太多成本 (前期研究、翻掉重構) 的情境。

- [Nuxt.js](https://nuxtjs.org/guide/)：Vue 版本的快速開發模板，類似 react 的 create-react-app

## 它們能解決什麼問題

- RxJS 處理複雜非同步邏輯 (已經有在使用了)
- [oembed](https://oembed.com/) 處理嵌入內容到第三方網站
- [Web Authentication API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Authentication_API) 處理認證與授權
- Deno 需要再多觀察，未來有望取代 Node.js
- TypeScript 強型別語言取代 JavaScript：減少不預期的型別錯誤、簡化模組介面設計、擴展使用 OOP 等各種程式設計方法
- Web Workers 與 WorkerDOM 用來優化效能
- 從 jQuery 升級到 Modern Frontend 用 Vue.js 就對了
